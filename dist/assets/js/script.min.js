$(document).ready((function(){$(".grid").masonry({itemSelector:".grid-item",columnWidth:300})})),$(document).ready((function(){$(".item").magnificPopup({type:"image",gallery:{enabled:!0},removalDelay:300,mainClass:"mfp-fade"})}));let lastScroll=0;const defaultOffset=200,header=document.getElementById("header"),scrollPosition=()=>window.pageYOffset||document.documentElement.scrollTop,containHide=()=>header.classList.contains("header-hidden");window.addEventListener("scroll",()=>{scrollPosition()>lastScroll&&!containHide()&&scrollPosition()>200?header.classList.add("header-hidden"):scrollPosition()<lastScroll&&containHide()&&header.classList.remove("header-hidden"),lastScroll=scrollPosition()});let brakepoint=900,screen2=window.innerWidth;screen2<900?$(document).ready((function(){$(".slider").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,adaptiveHeight:!0})})):$(document).ready((function(){$(".slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,initialSlide:3,autoplay:!0,autoplaySpeed:1500,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}));var slideout=new Slideout({panel:document.getElementById("panel"),menu:document.getElementById("menu"),padding:256,tolerance:70});document.querySelector(".toggle-button").addEventListener("click",(function(){slideout.toggle()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function n(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function i(e){return/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(e.value)}e.addEventListener("submit",(async function(s){s.preventDefault();let l=function(e){let s=0,l=document.querySelectorAll("._req");for(let e=0;e<l.length;e++){const d=l[e];n(d),d.classList.contains("_email")?o(d)&&(t(d),s++,i(d)&&(t(d),s++,console.log(i(d)))):""===d.value&&(t(d),s++)}return s}(),d=new FormData(e);if(3===l){e.classList.add("_sending");let t=await fetch("sendmail.php",{method:"POST",body:d});if(t.ok){let n=await t.json();alert(n.massage),formPreview.innerHTML="",e.reset(),e.classList.remove("_sending")}else alert("ошибка"),e.classList.remove("_sending")}}))}));